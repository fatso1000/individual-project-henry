{"ast":null,"code":"var _jsxFileName = \"/home/fatso1000/Escritorio/CarpetaDeCodigo/Henry/Projects/IndividualProject/frontend/src/components/home/index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport { searchVideogame } from \"../../actions\";\nimport \"./home.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst GamesMap = props => {\n  var stringGenres = \"\";\n  props.videogame.genres.forEach(element => {\n    stringGenres += element.name + \" \";\n  });\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      children: props.videogame.tmpid + 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(NavLink, {\n        exact: true,\n        to: `/videogame/${props.videogame.id}`,\n        children: props.videogame.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: stringGenres\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: props.videogame.image,\n        alt: `${props.videogame.name} background`,\n        width: \"20px\",\n        height: \"20px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this);\n};\n\n_c = GamesMap;\nexport class Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleKeyPress = e => {\n      if (e.keyCode === 13) {\n        this.handleSubmit();\n      }\n    };\n\n    this.state = {\n      title: \"\",\n      ordering: \"up\",\n      isSubmitted: false,\n      petition: {\n        loading: false,\n        msg: null\n      }\n    };\n  }\n\n  handleChange(event) {\n    this.setState({\n      title: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      petition: {\n        loading: true,\n        error: null\n      }\n    });\n    this.props.getVideogame(this.state.title).then(() => {\n      this.setState({\n        petition: {\n          loading: false,\n          error: null\n        },\n        isSubmitted: true\n      });\n    });\n  }\n\n  pagination(e) {} // EXTENSIVE CODE AHEAD FOR THIS FUNCTION !!NEEDS RECODE!!\n\n\n  videogamesMap() {\n    if (this.props.videogames.hasOwnProperty(\"results\") && !this.state.petition.loading) {\n      switch (this.state.ordering) {\n        // CASE NAME DOWN\n        case \"name-down\":\n          var tmp1 = this.props.videogames.results;\n          tmp1.sort((a, b) => {\n            let fa = a.name.toLowerCase(),\n                fb = b.name.toLowerCase();\n\n            if (fa < fb) {\n              return -1;\n            }\n\n            if (fa > fb) {\n              return 1;\n            }\n\n            return 0;\n          });\n          tmp1.reverse();\n          return tmp1.map(game => {\n            return /*#__PURE__*/_jsxDEV(GamesMap, {\n              videogame: game\n            }, game.tmpid, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 20\n            }, this);\n          });\n        // CASE NAME UP\n\n        case \"name-up\":\n          var tmp = this.props.videogames.results;\n          tmp.sort((a, b) => {\n            let fa = a.name.toLowerCase(),\n                fb = b.name.toLowerCase();\n\n            if (fa < fb) {\n              return -1;\n            }\n\n            if (fa > fb) {\n              return 1;\n            }\n\n            return 0;\n          });\n          return tmp.map(game => {\n            return /*#__PURE__*/_jsxDEV(GamesMap, {\n              videogame: game\n            }, game.tmpid, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 20\n            }, this);\n          });\n        // CASE DEFAULT\n\n        case \"id-up\":\n          var tmpidUp = this.props.videogames.results;\n          tmpidUp.sort((a, b) => {\n            return a.tmpid - b.tmpid;\n          });\n          return tmpidUp.map(game => {\n            return /*#__PURE__*/_jsxDEV(GamesMap, {\n              videogame: game\n            }, game.tmpid, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 20\n            }, this);\n          });\n\n        case \"id-down\":\n          var tmpidDown = this.props.videogames.results;\n          tmpidDown.sort((a, b) => {\n            return a.tmpid - b.tmpid;\n          });\n          tmpidDown.reverse();\n          return tmpidDown.map(game => {\n            return /*#__PURE__*/_jsxDEV(GamesMap, {\n              videogame: game\n            }, game.tmpid, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 20\n            }, this);\n          });\n\n        default:\n          return this.props.videogames.results.map(game => {\n            return /*#__PURE__*/_jsxDEV(GamesMap, {\n              videogame: game\n            }, game.tmpid, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 20\n            }, this);\n          });\n      }\n    }\n  } // ----------!!END OF EXTENSIVE FUNCTION!!---------- //\n\n\n  orderingFunction(event) {\n    const {\n      id\n    } = event.target;\n\n    switch (id) {\n      case \"name\":\n        if (event.target.value === \"name-up\") {\n          event.target.value = \"name-down\";\n          this.setState({\n            ordering: \"name-down\"\n          });\n        } else {\n          event.target.value = \"name-up\";\n          this.setState({\n            ordering: \"name-up\"\n          });\n        }\n\n        break;\n\n      case \"id\":\n        if (event.target.value === \"id-up\") {\n          event.target.value = \"id-down\";\n          this.setState({\n            ordering: \"id-down\"\n          });\n        } else {\n          event.target.value = \"id-up\";\n          this.setState({\n            ordering: \"id-up\"\n          });\n        }\n\n        break;\n\n      default:\n    }\n  }\n\n  render() {\n    const {\n      title\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"page__leader\",\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page__head\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page__head-meta\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"heading title\",\n            children: \"Search any videogame\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page__form\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"page__search__form\",\n          onSubmit: e => this.handleSubmit(e),\n          role: \"search\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"page__search__input__area\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"title\",\n              className: \"page__form-input\",\n              placeholder: \"Tomb Raider...\",\n              autoFocus: true,\n              autoComplete: \"off\",\n              value: title,\n              onChange: e => this.handleChange(e),\n              onKeyPress: e => this.handleKeyPress(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"page__form-submit\",\n            type: \"submit\",\n            children: \"search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), this.state.isSubmitted && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [this.props.searchMsg, /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  id: \"id\",\n                  value: \"id-up\",\n                  onClick: e => this.orderingFunction(e),\n                  children: \"id\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  id: \"name\",\n                  value: \"name-up\",\n                  onClick: e => this.orderingFunction(e),\n                  children: \"name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"sf\",\n                  children: \"genres\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"sad\",\n                  children: \"image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [this.videogamesMap(), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"egs\",\n                  children: \"previous\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  value: this.props.videogames.next,\n                  children: \"next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    videogames: state.videogames,\n    searchMsg: state.searchMsg\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getVideogame: name => dispatch(searchVideogame(name))\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n\nvar _c;\n\n$RefreshReg$(_c, \"GamesMap\");","map":{"version":3,"sources":["/home/fatso1000/Escritorio/CarpetaDeCodigo/Henry/Projects/IndividualProject/frontend/src/components/home/index.js"],"names":["React","Component","connect","NavLink","searchVideogame","GamesMap","props","stringGenres","videogame","genres","forEach","element","name","tmpid","id","image","Home","constructor","handleKeyPress","e","keyCode","handleSubmit","state","title","ordering","isSubmitted","petition","loading","msg","handleChange","event","setState","target","value","preventDefault","error","getVideogame","then","pagination","videogamesMap","videogames","hasOwnProperty","tmp1","results","sort","a","b","fa","toLowerCase","fb","reverse","map","game","tmp","tmpidUp","tmpidDown","orderingFunction","render","searchMsg","next","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport { searchVideogame } from \"../../actions\";\nimport \"./home.css\";\n\nconst GamesMap = (props) => {\n  var stringGenres = \"\";\n\n  props.videogame.genres.forEach((element) => {\n    stringGenres += element.name + \" \";\n  });\n\n  return (\n    <tr>\n      <td>{props.videogame.tmpid + 1}</td>\n      <td>\n        <NavLink exact to={`/videogame/${props.videogame.id}`}>\n          {props.videogame.name}\n        </NavLink>\n      </td>\n      <td>{stringGenres}</td>\n      <td>\n        <img\n          src={props.videogame.image}\n          alt={`${props.videogame.name} background`}\n          width=\"20px\"\n          height=\"20px\"\n        />\n      </td>\n    </tr>\n  );\n};\n\nexport class Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      ordering: \"up\",\n      isSubmitted: false,\n      petition: {\n        loading: false,\n        msg: null,\n      },\n    };\n  }\n\n  handleChange(event) {\n    this.setState({ title: event.target.value });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      petition: {\n        loading: true,\n        error: null,\n      },\n    });\n    this.props.getVideogame(this.state.title).then(() => {\n      this.setState({\n        petition: {\n          loading: false,\n          error: null,\n        },\n        isSubmitted: true,\n      });\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      this.handleSubmit();\n    }\n  };\n\n  pagination(e) {}\n\n  // EXTENSIVE CODE AHEAD FOR THIS FUNCTION !!NEEDS RECODE!!\n  videogamesMap() {\n    if (\n      this.props.videogames.hasOwnProperty(\"results\") &&\n      !this.state.petition.loading\n    ) {\n      switch (this.state.ordering) {\n        // CASE NAME DOWN\n        case \"name-down\":\n          var tmp1 = this.props.videogames.results;\n          tmp1.sort((a, b) => {\n            let fa = a.name.toLowerCase(),\n              fb = b.name.toLowerCase();\n            if (fa < fb) {\n              return -1;\n            }\n            if (fa > fb) {\n              return 1;\n            }\n            return 0;\n          });\n          tmp1.reverse();\n          return tmp1.map((game) => {\n            return <GamesMap videogame={game} key={game.tmpid} />;\n          });\n        // CASE NAME UP\n        case \"name-up\":\n          var tmp = this.props.videogames.results;\n          tmp.sort((a, b) => {\n            let fa = a.name.toLowerCase(),\n              fb = b.name.toLowerCase();\n            if (fa < fb) {\n              return -1;\n            }\n            if (fa > fb) {\n              return 1;\n            }\n            return 0;\n          });\n          return tmp.map((game) => {\n            return <GamesMap videogame={game} key={game.tmpid} />;\n          });\n        // CASE DEFAULT\n        case \"id-up\":\n          var tmpidUp = this.props.videogames.results;\n          tmpidUp.sort((a, b) => {\n            return a.tmpid - b.tmpid;\n          });\n          return tmpidUp.map((game) => {\n            return <GamesMap videogame={game} key={game.tmpid} />;\n          });\n        case \"id-down\":\n          var tmpidDown = this.props.videogames.results;\n          tmpidDown.sort((a, b) => {\n            return a.tmpid - b.tmpid;\n          });\n          tmpidDown.reverse();\n          return tmpidDown.map((game) => {\n            return <GamesMap videogame={game} key={game.tmpid} />;\n          });\n        default:\n          return this.props.videogames.results.map((game) => {\n            return <GamesMap videogame={game} key={game.tmpid} />;\n          });\n      }\n    }\n  }\n  // ----------!!END OF EXTENSIVE FUNCTION!!---------- //\n\n  orderingFunction(event) {\n    const { id } = event.target;\n    switch (id) {\n      case \"name\":\n        if (event.target.value === \"name-up\") {\n          event.target.value = \"name-down\";\n          this.setState({\n            ordering: \"name-down\",\n          });\n        } else {\n          event.target.value = \"name-up\";\n          this.setState({\n            ordering: \"name-up\",\n          });\n        }\n        break;\n      case \"id\":\n        if (event.target.value === \"id-up\") {\n          event.target.value = \"id-down\";\n          this.setState({\n            ordering: \"id-down\",\n          });\n        } else {\n          event.target.value = \"id-up\";\n          this.setState({\n            ordering: \"id-up\",\n          });\n        }\n        break;\n      default:\n    }\n  }\n\n  render() {\n    const { title } = this.state;\n    return (\n      <div id=\"page__leader\" className=\"container\">\n        <div className=\"page__head\">\n          <div className=\"page__head-meta\">\n            <h1 className=\"heading title\">Search any videogame</h1>\n          </div>\n        </div>\n        <div className=\"page__form\">\n          <form\n            className=\"page__search__form\"\n            onSubmit={(e) => this.handleSubmit(e)}\n            role=\"search\"\n          >\n            <div className=\"page__search__input__area\">\n              <input\n                type=\"text\"\n                id=\"title\"\n                className=\"page__form-input\"\n                placeholder=\"Tomb Raider...\"\n                autoFocus={true}\n                autoComplete=\"off\"\n                value={title}\n                onChange={(e) => this.handleChange(e)}\n                onKeyPress={(e) => this.handleKeyPress(e)}\n              />\n            </div>\n            <button className=\"page__form-submit\" type=\"submit\">\n              search\n            </button>\n          </form>\n        </div>\n\n        {this.state.isSubmitted && (\n          <>\n            {this.props.searchMsg}\n            <table>\n              <thead>\n                <tr>\n                  <td>\n                    <p\n                      id=\"id\"\n                      value=\"id-up\"\n                      onClick={(e) => this.orderingFunction(e)}\n                    >\n                      id\n                    </p>\n                  </td>\n                  <td>\n                    <p\n                      id=\"name\"\n                      value=\"name-up\"\n                      onClick={(e) => this.orderingFunction(e)}\n                    >\n                      name\n                    </p>\n                  </td>\n                  <td>\n                    <a href=\"sf\">genres</a>\n                  </td>\n                  <td>\n                    <a href=\"sad\">image</a>\n                  </td>\n                </tr>\n              </thead>\n              <tbody>\n                {this.videogamesMap()}\n                <tr>\n                  <td>\n                    <a href=\"egs\">previous</a>\n                  </td>\n                  <td></td>\n                  <td></td>\n                  <td>\n                    <p value={this.props.videogames.next}>next</p>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    videogames: state.videogames,\n    searchMsg: state.searchMsg,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getVideogame: (name) => dispatch(searchVideogame(name)),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n"]},"metadata":{},"sourceType":"module"}