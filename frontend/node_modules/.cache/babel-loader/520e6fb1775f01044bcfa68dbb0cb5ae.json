{"ast":null,"code":"var _jsxFileName = \"/home/fatso1000/Escritorio/CarpetaDeCodigo/Henry/Projects/IndividualProject/frontend/src/components/home/index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { searchVideogame } from \"../../actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst GamesMap = props => {\n  var stringGenres = \"\";\n  props.videogame.genres.forEach(element => {\n    stringGenres += element.name + \" \";\n  });\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      children: props.videogame.tmpid + 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: props.videogame.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: stringGenres\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: props.videogame.image,\n        alt: `${props.videogame.name} background`,\n        width: \"20px\",\n        height: \"20px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }, this);\n};\n\n_c = GamesMap;\nexport class Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleKeyPress = e => {\n      if (e.keyCode === 13) {\n        this.handleSubmit();\n      }\n    };\n\n    this.state = {\n      title: \"\",\n      ordering: \"up\",\n      isSubmitted: false,\n      petition: {\n        loading: false,\n        msg: null\n      }\n    };\n  }\n\n  handleChange(event) {\n    this.setState({\n      title: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      petition: {\n        loading: true,\n        error: null\n      }\n    });\n    this.props.getVideogame(this.state.title).then(() => {\n      this.setState({\n        petition: {\n          loading: false,\n          error: null\n        },\n        isSubmitted: true\n      });\n    });\n  }\n\n  videogamesMap() {\n    if (this.props.videogames.hasOwnProperty(\"results\") && !this.state.petition.loading) {\n      switch (this.state.ordering) {\n        // CASE NAME DOWN\n        case \"name-down\":\n          var tmp1 = this.props.videogames.results;\n          tmp1.sort((a, b) => {\n            let fa = a.name.toLowerCase(),\n                fb = b.name.toLowerCase();\n\n            if (fa < fb) {\n              return -1;\n            }\n\n            if (fa > fb) {\n              return 1;\n            }\n\n            return 0;\n          });\n          tmp1.reverse();\n          return tmp1.map(game => {\n            return /*#__PURE__*/_jsxDEV(GamesMap, {\n              videogame: game\n            }, game.tmpid, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 20\n            }, this);\n          });\n        // CASE NAME UP\n\n        case \"name-up\":\n          var tmp = this.props.videogames.results;\n          tmp.sort((a, b) => {\n            let fa = a.name.toLowerCase(),\n                fb = b.name.toLowerCase();\n\n            if (fa < fb) {\n              return -1;\n            }\n\n            if (fa > fb) {\n              return 1;\n            }\n\n            return 0;\n          });\n          return tmp.map(game => {\n            return /*#__PURE__*/_jsxDEV(GamesMap, {\n              videogame: game\n            }, game.tmpid, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 20\n            }, this);\n          });\n        // CASE DEFAULT\n\n        default:\n          return this.props.videogames.results.map(game => {\n            return /*#__PURE__*/_jsxDEV(GamesMap, {\n              videogame: game\n            }, game.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 20\n            }, this);\n          });\n      }\n    }\n  }\n\n  orderingFunction(event) {\n    console.log(event.target.value);\n    const {\n      id\n    } = event.target;\n\n    switch (id) {\n      case \"name\":\n        if (event.target.value === \"name-up\") {\n          event.target.value = \"name-down\";\n          this.setState({\n            ordering: \"name-down\"\n          });\n        } else {\n          event.target.value = \"name-up\";\n          this.setState({\n            ordering: \"name-up\"\n          });\n        }\n\n      default:\n        break;\n    }\n  }\n\n  render() {\n    const {\n      title\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Search input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => this.handleSubmit(e),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"title\",\n            children: \"Videogame: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"title\",\n            autoComplete: \"off\",\n            value: title,\n            onChange: e => this.handleChange(e),\n            onKeyPress: e => this.handleKeyPress(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"SEARCH\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), this.state.isSubmitted && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [this.props.searchMsg, /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  children: \"id\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  id: \"name\",\n                  value: \"name-up\",\n                  onClick: e => this.orderingFunction(e),\n                  children: \"name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"sf\",\n                  children: \"genres\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"sad\",\n                  children: \"image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [this.videogamesMap(), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"egs\",\n                  children: \"previous\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"fs\",\n                  children: \"next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    videogames: state.videogames,\n    searchMsg: state.searchMsg\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getVideogame: name => dispatch(searchVideogame(name))\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n\nvar _c;\n\n$RefreshReg$(_c, \"GamesMap\");","map":{"version":3,"sources":["/home/fatso1000/Escritorio/CarpetaDeCodigo/Henry/Projects/IndividualProject/frontend/src/components/home/index.js"],"names":["React","Component","connect","searchVideogame","GamesMap","props","stringGenres","videogame","genres","forEach","element","name","tmpid","image","Home","constructor","handleKeyPress","e","keyCode","handleSubmit","state","title","ordering","isSubmitted","petition","loading","msg","handleChange","event","setState","target","value","preventDefault","error","getVideogame","then","videogamesMap","videogames","hasOwnProperty","tmp1","results","sort","a","b","fa","toLowerCase","fb","reverse","map","game","tmp","id","orderingFunction","console","log","render","searchMsg","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { searchVideogame } from \"../../actions\";\n\nconst GamesMap = (props) => {\n  var stringGenres = \"\";\n\n  props.videogame.genres.forEach((element) => {\n    stringGenres += element.name + \" \";\n  });\n\n  return (\n    <tr>\n      <td>{props.videogame.tmpid + 1}</td>\n      <td>{props.videogame.name}</td>\n      <td>{stringGenres}</td>\n      <td>\n        <img\n          src={props.videogame.image}\n          alt={`${props.videogame.name} background`}\n          width=\"20px\"\n          height=\"20px\"\n        />\n      </td>\n    </tr>\n  );\n};\n\nexport class Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      ordering: \"up\",\n      isSubmitted: false,\n      petition: {\n        loading: false,\n        msg: null,\n      },\n    };\n  }\n\n  handleChange(event) {\n    this.setState({ title: event.target.value });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      petition: {\n        loading: true,\n        error: null,\n      },\n    });\n    this.props.getVideogame(this.state.title).then(() => {\n      this.setState({\n        petition: {\n          loading: false,\n          error: null,\n        },\n        isSubmitted: true,\n      });\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      this.handleSubmit();\n    }\n  };\n\n  videogamesMap() {\n    if (\n      this.props.videogames.hasOwnProperty(\"results\") &&\n      !this.state.petition.loading\n    ) {\n      switch (this.state.ordering) {\n        // CASE NAME DOWN\n        case \"name-down\":\n          var tmp1 = this.props.videogames.results;\n          tmp1.sort((a, b) => {\n            let fa = a.name.toLowerCase(),\n              fb = b.name.toLowerCase();\n            if (fa < fb) {\n              return -1;\n            }\n            if (fa > fb) {\n              return 1;\n            }\n            return 0;\n          });\n          tmp1.reverse();\n          return tmp1.map((game) => {\n            return <GamesMap videogame={game} key={game.tmpid} />;\n          });\n        // CASE NAME UP\n        case \"name-up\":\n          var tmp = this.props.videogames.results;\n          tmp.sort((a, b) => {\n            let fa = a.name.toLowerCase(),\n              fb = b.name.toLowerCase();\n            if (fa < fb) {\n              return -1;\n            }\n            if (fa > fb) {\n              return 1;\n            }\n            return 0;\n          });\n          return tmp.map((game) => {\n            return <GamesMap videogame={game} key={game.tmpid} />;\n          });\n        // CASE DEFAULT\n        default:\n          return this.props.videogames.results.map((game) => {\n            return <GamesMap videogame={game} key={game.id} />;\n          });\n      }\n    }\n  }\n\n  orderingFunction(event) {\n    console.log(event.target.value);\n    const { id } = event.target;\n    switch (id) {\n      case \"name\":\n        if (event.target.value === \"name-up\") {\n          event.target.value = \"name-down\";\n          this.setState({\n            ordering: \"name-down\",\n          });\n        } else {\n          event.target.value = \"name-up\";\n          this.setState({\n            ordering: \"name-up\",\n          });\n        }\n      default:\n        break;\n    }\n  }\n\n  render() {\n    const { title } = this.state;\n    return (\n      <div>\n        <p>Search input</p>\n        <form onSubmit={(e) => this.handleSubmit(e)}>\n          <div>\n            <label htmlFor=\"title\">Videogame: </label>\n            <input\n              type=\"text\"\n              id=\"title\"\n              autoComplete=\"off\"\n              value={title}\n              onChange={(e) => this.handleChange(e)}\n              onKeyPress={(e) => this.handleKeyPress(e)}\n            />\n          </div>\n          <button type=\"submit\">SEARCH</button>\n        </form>\n        {this.state.isSubmitted && (\n          <>\n            {this.props.searchMsg}\n            <table>\n              <thead>\n                <tr>\n                  <td>\n                    <a>id</a>\n                  </td>\n                  <td>\n                    <p\n                      id=\"name\"\n                      value=\"name-up\"\n                      onClick={(e) => this.orderingFunction(e)}\n                    >\n                      name\n                    </p>\n                  </td>\n                  <td>\n                    <a href=\"sf\">genres</a>\n                  </td>\n                  <td>\n                    <a href=\"sad\">image</a>\n                  </td>\n                </tr>\n              </thead>\n              <tbody>\n                {this.videogamesMap()}\n                <tr>\n                  <td>\n                    <a href=\"egs\">previous</a>\n                  </td>\n                  <td></td>\n                  <td></td>\n                  <td>\n                    <a href=\"fs\">next</a>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    videogames: state.videogames,\n    searchMsg: state.searchMsg,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getVideogame: (name) => dispatch(searchVideogame(name)),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n"]},"metadata":{},"sourceType":"module"}