{"ast":null,"code":"var _jsxFileName = \"/home/fatso1000/Escritorio/CarpetaDeCodigo/Henry/Projects/IndividualProject/frontend/src/components/createvideogame/index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./videogame.css\";\nimport { getGenres, addVideogame } from \"../../actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar tmpPlatforms = [\"PC\", \"PS5\", \"PS4\", \"XBOXONE\"];\nexport class Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleKeyPress = e => {\n      if (e.keyCode === 13) {\n        this.handleSubmit();\n      }\n    };\n\n    this.state = {\n      name: \"\",\n      description: \"\",\n      releaseDate: \"\",\n      rating: \"\",\n      genres: [],\n      platforms: [],\n      petition: {\n        loading: false,\n        error: null\n      },\n      isLoaded: false,\n      isSubmitted: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      petition: {\n        loading: true,\n        error: null\n      }\n    });\n    this.props.getGenres().then(() => {\n      this.setState({\n        petition: {\n          loading: false,\n          error: null\n        },\n        isLoaded: true\n      });\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    console.log(\"SUBMIT\");\n    this.props.uploadVideogame({\n      name: this.state.name,\n      description: this.state.description,\n      releaseDate: this.state.releaseDate,\n      rating: this.state.rating,\n      genres: this.state.genres,\n      platforms: this.state.platforms\n    }).then(this.setState({\n      isSubmitted: true\n    }));\n  }\n\n  genresList() {\n    if (!this.state.petition.loading) {\n      return this.props.genres.response.map((element, i) => {\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: element.name,\n          children: element.name\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this);\n      });\n    }\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.id]: e.target.value\n    });\n  }\n\n  platformsList() {\n    if (!this.state.petition.loading) {\n      return tmpPlatforms.map((element, i) => {\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: element,\n          children: element\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this);\n      });\n    }\n  }\n\n  addGenres(e) {\n    var newArray = this.state.genres;\n    var tmp = true;\n\n    for (var i = 0; i < newArray.length; i++) {\n      if (newArray[i] === e.target.value) {\n        newArray.splice(i, 1);\n        tmp = false;\n      }\n    }\n\n    if (tmp === true) {\n      this.setState({\n        genres: [...this.state.genres, e.target.value]\n      });\n      return;\n    } else {\n      this.setState({\n        genres: newArray\n      });\n    }\n  }\n\n  addPlatform(e) {\n    var newArray = this.state.platforms;\n    var tmp = true;\n\n    for (var i = 0; i < newArray.length; i++) {\n      if (newArray[i] === e.target.value) {\n        newArray.splice(i, 1);\n        tmp = false;\n      }\n    }\n\n    if (tmp === true) {\n      this.setState({\n        platforms: [...this.state.platforms, e.target.value]\n      });\n      return;\n    } else {\n      this.setState({\n        platforms: newArray\n      });\n    }\n  }\n\n  render() {\n    const {\n      name,\n      description,\n      releaseDate,\n      rating,\n      genres,\n      platforms\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"page__leader\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page__head\",\n          children: this.state.isSubmitted && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"page__head-message\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Game uploaded succesfully!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page__content\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"page__form\",\n            onSubmit: e => this.handleSubmit(e),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"page__form-div\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"input__header\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"name\",\n                className: \"page__form-input__vg\",\n                autoComplete: \"off\",\n                value: name,\n                placeholder: \"Name\",\n                onChange: e => this.handleChange(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"page__form-div\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"input__header\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"description\",\n                autoComplete: \"off\",\n                className: \"page__form-input__vg\",\n                placeholder: \"Description\",\n                value: description,\n                onChange: e => this.handleChange(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"page__form-div\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"input__header\",\n                children: \"Release Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"page__form-input__vg\",\n                id: \"releaseDate\",\n                placeholder: \"Release Date\",\n                autoComplete: \"off\",\n                value: releaseDate,\n                onChange: e => this.handleChange(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"page__form-div\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"input__header\",\n                children: \"Rating\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                id: \"rating\",\n                autoComplete: \"off\",\n                placeholder: \"Rating\",\n                className: \"page__form-input__vg\",\n                value: rating,\n                onChange: e => this.handleChange(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"page__form-div\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"input__header\",\n                children: \"Genres\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"genres\",\n                id: \"genres\",\n                className: \"page__form-input__vg\",\n                multiple: true,\n                value: genres,\n                onChange: e => this.addGenres(e),\n                children: this.state.isLoaded && this.genresList()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"page__form-div\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"input__header\",\n                children: \"Platforms\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"platforms\",\n                id: \"platforms\",\n                className: \"page__form-select page__form-input__vg\",\n                multiple: true,\n                value: platforms,\n                onChange: e => this.addPlatform(e),\n                size: 5,\n                children: this.state.isLoaded && this.platformsList()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"page__form-div\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                children: \"SEARCH\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    genres: state.genres\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getGenres: () => dispatch(getGenres()),\n    uploadVideogame: payload => dispatch(addVideogame(payload))\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/home/fatso1000/Escritorio/CarpetaDeCodigo/Henry/Projects/IndividualProject/frontend/src/components/createvideogame/index.js"],"names":["React","Component","connect","getGenres","addVideogame","tmpPlatforms","Home","constructor","props","handleKeyPress","e","keyCode","handleSubmit","state","name","description","releaseDate","rating","genres","platforms","petition","loading","error","isLoaded","isSubmitted","componentDidMount","setState","then","event","preventDefault","console","log","uploadVideogame","genresList","response","map","element","i","handleChange","target","id","value","platformsList","addGenres","newArray","tmp","length","splice","addPlatform","render","mapStateToProps","mapDispatchToProps","dispatch","payload"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,iBAAP;AACA,SAASC,SAAT,EAAoBC,YAApB,QAAwC,eAAxC;;AAEA,IAAIC,YAAY,GAAG,CAAC,IAAD,EAAO,KAAP,EAAc,KAAd,EAAqB,SAArB,CAAnB;AAEA,OAAO,MAAMC,IAAN,SAAmBL,SAAnB,CAA6B;AAClCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAmDnBC,cAnDmB,GAmDDC,CAAD,IAAO;AACtB,UAAIA,CAAC,CAACC,OAAF,KAAc,EAAlB,EAAsB;AACpB,aAAKC,YAAL;AACD;AACF,KAvDkB;;AAEjB,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,EADK;AAEXC,MAAAA,WAAW,EAAE,EAFF;AAGXC,MAAAA,WAAW,EAAE,EAHF;AAIXC,MAAAA,MAAM,EAAE,EAJG;AAKXC,MAAAA,MAAM,EAAE,EALG;AAMXC,MAAAA,SAAS,EAAE,EANA;AAOXC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,OAAO,EAAE,KADD;AAERC,QAAAA,KAAK,EAAE;AAFC,OAPC;AAWXC,MAAAA,QAAQ,EAAE,KAXC;AAYXC,MAAAA,WAAW,EAAE;AAZF,KAAb;AAcD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,QAAL,CAAc;AACZN,MAAAA,QAAQ,EAAE;AACRC,QAAAA,OAAO,EAAE,IADD;AAERC,QAAAA,KAAK,EAAE;AAFC;AADE,KAAd;AAMA,SAAKd,KAAL,CAAWL,SAAX,GAAuBwB,IAAvB,CAA4B,MAAM;AAChC,WAAKD,QAAL,CAAc;AACZN,QAAAA,QAAQ,EAAE;AACRC,UAAAA,OAAO,EAAE,KADD;AAERC,UAAAA,KAAK,EAAE;AAFC,SADE;AAKZC,QAAAA,QAAQ,EAAE;AALE,OAAd;AAOD,KARD;AASD;;AAEDX,EAAAA,YAAY,CAACgB,KAAD,EAAQ;AAClBA,IAAAA,KAAK,CAACC,cAAN;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,SAAKvB,KAAL,CACGwB,eADH,CACmB;AACflB,MAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,IADF;AAEfC,MAAAA,WAAW,EAAE,KAAKF,KAAL,CAAWE,WAFT;AAGfC,MAAAA,WAAW,EAAE,KAAKH,KAAL,CAAWG,WAHT;AAIfC,MAAAA,MAAM,EAAE,KAAKJ,KAAL,CAAWI,MAJJ;AAKfC,MAAAA,MAAM,EAAE,KAAKL,KAAL,CAAWK,MALJ;AAMfC,MAAAA,SAAS,EAAE,KAAKN,KAAL,CAAWM;AANP,KADnB,EASGQ,IATH,CASQ,KAAKD,QAAL,CAAc;AAAEF,MAAAA,WAAW,EAAE;AAAf,KAAd,CATR;AAUD;;AAQDS,EAAAA,UAAU,GAAG;AACX,QAAI,CAAC,KAAKpB,KAAL,CAAWO,QAAX,CAAoBC,OAAzB,EAAkC;AAChC,aAAO,KAAKb,KAAL,CAAWU,MAAX,CAAkBgB,QAAlB,CAA2BC,GAA3B,CAA+B,CAACC,OAAD,EAAUC,CAAV,KAAgB;AACpD,4BACE;AAAgB,UAAA,KAAK,EAAED,OAAO,CAACtB,IAA/B;AAAA,oBACGsB,OAAO,CAACtB;AADX,WAAauB,CAAb;AAAA;AAAA;AAAA;AAAA,gBADF;AAKD,OANM,CAAP;AAOD;AACF;;AAEDC,EAAAA,YAAY,CAAC5B,CAAD,EAAI;AACd,SAAKgB,QAAL,CAAc;AAAE,OAAChB,CAAC,CAAC6B,MAAF,CAASC,EAAV,GAAe9B,CAAC,CAAC6B,MAAF,CAASE;AAA1B,KAAd;AACD;;AAEDC,EAAAA,aAAa,GAAG;AACd,QAAI,CAAC,KAAK7B,KAAL,CAAWO,QAAX,CAAoBC,OAAzB,EAAkC;AAChC,aAAOhB,YAAY,CAAC8B,GAAb,CAAiB,CAACC,OAAD,EAAUC,CAAV,KAAgB;AACtC,4BACE;AAAgB,UAAA,KAAK,EAAED,OAAvB;AAAA,oBACGA;AADH,WAAaC,CAAb;AAAA;AAAA;AAAA;AAAA,gBADF;AAKD,OANM,CAAP;AAOD;AACF;;AAEDM,EAAAA,SAAS,CAACjC,CAAD,EAAI;AACX,QAAIkC,QAAQ,GAAG,KAAK/B,KAAL,CAAWK,MAA1B;AACA,QAAI2B,GAAG,GAAG,IAAV;;AACA,SAAK,IAAIR,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGO,QAAQ,CAACE,MAA7B,EAAqCT,CAAC,EAAtC,EAA0C;AACxC,UAAIO,QAAQ,CAACP,CAAD,CAAR,KAAgB3B,CAAC,CAAC6B,MAAF,CAASE,KAA7B,EAAoC;AAClCG,QAAAA,QAAQ,CAACG,MAAT,CAAgBV,CAAhB,EAAmB,CAAnB;AACAQ,QAAAA,GAAG,GAAG,KAAN;AACD;AACF;;AACD,QAAIA,GAAG,KAAK,IAAZ,EAAkB;AAChB,WAAKnB,QAAL,CAAc;AACZR,QAAAA,MAAM,EAAE,CAAC,GAAG,KAAKL,KAAL,CAAWK,MAAf,EAAuBR,CAAC,CAAC6B,MAAF,CAASE,KAAhC;AADI,OAAd;AAGA;AACD,KALD,MAKO;AACL,WAAKf,QAAL,CAAc;AACZR,QAAAA,MAAM,EAAE0B;AADI,OAAd;AAGD;AACF;;AAEDI,EAAAA,WAAW,CAACtC,CAAD,EAAI;AACb,QAAIkC,QAAQ,GAAG,KAAK/B,KAAL,CAAWM,SAA1B;AACA,QAAI0B,GAAG,GAAG,IAAV;;AACA,SAAK,IAAIR,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGO,QAAQ,CAACE,MAA7B,EAAqCT,CAAC,EAAtC,EAA0C;AACxC,UAAIO,QAAQ,CAACP,CAAD,CAAR,KAAgB3B,CAAC,CAAC6B,MAAF,CAASE,KAA7B,EAAoC;AAClCG,QAAAA,QAAQ,CAACG,MAAT,CAAgBV,CAAhB,EAAmB,CAAnB;AACAQ,QAAAA,GAAG,GAAG,KAAN;AACD;AACF;;AACD,QAAIA,GAAG,KAAK,IAAZ,EAAkB;AAChB,WAAKnB,QAAL,CAAc;AACZP,QAAAA,SAAS,EAAE,CAAC,GAAG,KAAKN,KAAL,CAAWM,SAAf,EAA0BT,CAAC,CAAC6B,MAAF,CAASE,KAAnC;AADC,OAAd;AAGA;AACD,KALD,MAKO;AACL,WAAKf,QAAL,CAAc;AACZP,QAAAA,SAAS,EAAEyB;AADC,OAAd;AAGD;AACF;;AAEDK,EAAAA,MAAM,GAAG;AACP,UAAM;AACJnC,MAAAA,IADI;AAEJC,MAAAA,WAFI;AAGJC,MAAAA,WAHI;AAIJC,MAAAA,MAJI;AAKJC,MAAAA,MALI;AAMJC,MAAAA;AANI,QAOF,KAAKN,KAPT;AAQA,wBACE;AAAK,MAAA,EAAE,EAAC,cAAR;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,oBACG,KAAKA,KAAL,CAAWW,WAAX,iBACC;AAAK,YAAA,SAAS,EAAC,oBAAf;AAAA,mCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,gBADF,eAQE;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,iCACE;AAAM,YAAA,SAAS,EAAC,YAAhB;AAA6B,YAAA,QAAQ,EAAGd,CAAD,IAAO,KAAKE,YAAL,CAAkBF,CAAlB,CAA9C;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,sCACE;AAAI,gBAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AACE,gBAAA,IAAI,EAAC,MADP;AAEE,gBAAA,EAAE,EAAC,MAFL;AAGE,gBAAA,SAAS,EAAC,sBAHZ;AAIE,gBAAA,YAAY,EAAC,KAJf;AAKE,gBAAA,KAAK,EAAEI,IALT;AAME,gBAAA,WAAW,EAAC,MANd;AAOE,gBAAA,QAAQ,EAAGJ,CAAD,IAAO,KAAK4B,YAAL,CAAkB5B,CAAlB;AAPnB;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAaE;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,sCACE;AAAI,gBAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AACE,gBAAA,IAAI,EAAC,MADP;AAEE,gBAAA,EAAE,EAAC,aAFL;AAGE,gBAAA,YAAY,EAAC,KAHf;AAIE,gBAAA,SAAS,EAAC,sBAJZ;AAKE,gBAAA,WAAW,EAAC,aALd;AAME,gBAAA,KAAK,EAAEK,WANT;AAOE,gBAAA,QAAQ,EAAGL,CAAD,IAAO,KAAK4B,YAAL,CAAkB5B,CAAlB;AAPnB;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAbF,eAyBE;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,sCACE;AAAI,gBAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AACE,gBAAA,IAAI,EAAC,MADP;AAEE,gBAAA,SAAS,EAAC,sBAFZ;AAGE,gBAAA,EAAE,EAAC,aAHL;AAIE,gBAAA,WAAW,EAAC,cAJd;AAKE,gBAAA,YAAY,EAAC,KALf;AAME,gBAAA,KAAK,EAAEM,WANT;AAOE,gBAAA,QAAQ,EAAGN,CAAD,IAAO,KAAK4B,YAAL,CAAkB5B,CAAlB;AAPnB;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAzBF,eAqCE;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,sCACE;AAAI,gBAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AACE,gBAAA,IAAI,EAAC,QADP;AAEE,gBAAA,EAAE,EAAC,QAFL;AAGE,gBAAA,YAAY,EAAC,KAHf;AAIE,gBAAA,WAAW,EAAC,QAJd;AAKE,gBAAA,SAAS,EAAC,sBALZ;AAME,gBAAA,KAAK,EAAEO,MANT;AAOE,gBAAA,QAAQ,EAAGP,CAAD,IAAO,KAAK4B,YAAL,CAAkB5B,CAAlB;AAPnB;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBArCF,eAiDE;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,sCACE;AAAI,gBAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AACE,gBAAA,IAAI,EAAC,QADP;AAEE,gBAAA,EAAE,EAAC,QAFL;AAGE,gBAAA,SAAS,EAAC,sBAHZ;AAIE,gBAAA,QAAQ,EAAE,IAJZ;AAKE,gBAAA,KAAK,EAAEQ,MALT;AAME,gBAAA,QAAQ,EAAGR,CAAD,IAAO,KAAKiC,SAAL,CAAejC,CAAf,CANnB;AAAA,0BAQG,KAAKG,KAAL,CAAWU,QAAX,IAAuB,KAAKU,UAAL;AAR1B;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAjDF,eA8DE;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,sCACE;AAAI,gBAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AACE,gBAAA,IAAI,EAAC,WADP;AAEE,gBAAA,EAAE,EAAC,WAFL;AAGE,gBAAA,SAAS,EAAC,wCAHZ;AAIE,gBAAA,QAAQ,EAAE,IAJZ;AAKE,gBAAA,KAAK,EAAEd,SALT;AAME,gBAAA,QAAQ,EAAGT,CAAD,IAAO,KAAKsC,WAAL,CAAiBtC,CAAjB,CANnB;AAOE,gBAAA,IAAI,EAAE,CAPR;AAAA,0BASG,KAAKG,KAAL,CAAWU,QAAX,IAAuB,KAAKmB,aAAL;AAT1B;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBA9DF,eA4EE;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,qCACE;AAAQ,gBAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBA5EF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBARF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AA+FD;;AAxOiC;;AA2OpC,SAASQ,eAAT,CAAyBrC,KAAzB,EAAgC;AAC9B,SAAO;AACLK,IAAAA,MAAM,EAAEL,KAAK,CAACK;AADT,GAAP;AAGD;;AAED,SAASiC,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAO;AACLjD,IAAAA,SAAS,EAAE,MAAMiD,QAAQ,CAACjD,SAAS,EAAV,CADpB;AAEL6B,IAAAA,eAAe,EAAGqB,OAAD,IAAaD,QAAQ,CAAChD,YAAY,CAACiD,OAAD,CAAb;AAFjC,GAAP;AAID;;AAED,eAAenD,OAAO,CAACgD,eAAD,EAAkBC,kBAAlB,CAAP,CAA6C7C,IAA7C,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./videogame.css\";\nimport { getGenres, addVideogame } from \"../../actions\";\n\nvar tmpPlatforms = [\"PC\", \"PS5\", \"PS4\", \"XBOXONE\"];\n\nexport class Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      description: \"\",\n      releaseDate: \"\",\n      rating: \"\",\n      genres: [],\n      platforms: [],\n      petition: {\n        loading: false,\n        error: null,\n      },\n      isLoaded: false,\n      isSubmitted: false,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      petition: {\n        loading: true,\n        error: null,\n      },\n    });\n    this.props.getGenres().then(() => {\n      this.setState({\n        petition: {\n          loading: false,\n          error: null,\n        },\n        isLoaded: true,\n      });\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    console.log(\"SUBMIT\");\n    this.props\n      .uploadVideogame({\n        name: this.state.name,\n        description: this.state.description,\n        releaseDate: this.state.releaseDate,\n        rating: this.state.rating,\n        genres: this.state.genres,\n        platforms: this.state.platforms,\n      })\n      .then(this.setState({ isSubmitted: true }));\n  }\n\n  handleKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      this.handleSubmit();\n    }\n  };\n\n  genresList() {\n    if (!this.state.petition.loading) {\n      return this.props.genres.response.map((element, i) => {\n        return (\n          <option key={i} value={element.name}>\n            {element.name}\n          </option>\n        );\n      });\n    }\n  }\n\n  handleChange(e) {\n    this.setState({ [e.target.id]: e.target.value });\n  }\n\n  platformsList() {\n    if (!this.state.petition.loading) {\n      return tmpPlatforms.map((element, i) => {\n        return (\n          <option key={i} value={element}>\n            {element}\n          </option>\n        );\n      });\n    }\n  }\n\n  addGenres(e) {\n    var newArray = this.state.genres;\n    var tmp = true;\n    for (var i = 0; i < newArray.length; i++) {\n      if (newArray[i] === e.target.value) {\n        newArray.splice(i, 1);\n        tmp = false;\n      }\n    }\n    if (tmp === true) {\n      this.setState({\n        genres: [...this.state.genres, e.target.value],\n      });\n      return;\n    } else {\n      this.setState({\n        genres: newArray,\n      });\n    }\n  }\n\n  addPlatform(e) {\n    var newArray = this.state.platforms;\n    var tmp = true;\n    for (var i = 0; i < newArray.length; i++) {\n      if (newArray[i] === e.target.value) {\n        newArray.splice(i, 1);\n        tmp = false;\n      }\n    }\n    if (tmp === true) {\n      this.setState({\n        platforms: [...this.state.platforms, e.target.value],\n      });\n      return;\n    } else {\n      this.setState({\n        platforms: newArray,\n      });\n    }\n  }\n\n  render() {\n    const {\n      name,\n      description,\n      releaseDate,\n      rating,\n      genres,\n      platforms,\n    } = this.state;\n    return (\n      <div id=\"page__leader\">\n        <div className=\"container\">\n          <div className=\"page__head\">\n            {this.state.isSubmitted && (\n              <div className=\"page__head-message\">\n                <h1>Game uploaded succesfully!</h1>\n              </div>\n            )}\n          </div>\n          <div className=\"page__content\">\n            <form className=\"page__form\" onSubmit={(e) => this.handleSubmit(e)}>\n              <div className=\"page__form-div\">\n                <h3 className=\"input__header\">Name</h3>\n                <input\n                  type=\"text\"\n                  id=\"name\"\n                  className=\"page__form-input__vg\"\n                  autoComplete=\"off\"\n                  value={name}\n                  placeholder=\"Name\"\n                  onChange={(e) => this.handleChange(e)}\n                />\n              </div>\n              <div className=\"page__form-div\">\n                <h3 className=\"input__header\">Description</h3>\n                <input\n                  type=\"text\"\n                  id=\"description\"\n                  autoComplete=\"off\"\n                  className=\"page__form-input__vg\"\n                  placeholder=\"Description\"\n                  value={description}\n                  onChange={(e) => this.handleChange(e)}\n                />\n              </div>\n              <div className=\"page__form-div\">\n                <h3 className=\"input__header\">Release Date</h3>\n                <input\n                  type=\"text\"\n                  className=\"page__form-input__vg\"\n                  id=\"releaseDate\"\n                  placeholder=\"Release Date\"\n                  autoComplete=\"off\"\n                  value={releaseDate}\n                  onChange={(e) => this.handleChange(e)}\n                />\n              </div>\n              <div className=\"page__form-div\">\n                <h3 className=\"input__header\">Rating</h3>\n                <input\n                  type=\"number\"\n                  id=\"rating\"\n                  autoComplete=\"off\"\n                  placeholder=\"Rating\"\n                  className=\"page__form-input__vg\"\n                  value={rating}\n                  onChange={(e) => this.handleChange(e)}\n                />\n              </div>\n              <div className=\"page__form-div\">\n                <h3 className=\"input__header\">Genres</h3>\n                <select\n                  name=\"genres\"\n                  id=\"genres\"\n                  className=\"page__form-input__vg\"\n                  multiple={true}\n                  value={genres}\n                  onChange={(e) => this.addGenres(e)}\n                >\n                  {this.state.isLoaded && this.genresList()}\n                </select>\n              </div>\n              <div className=\"page__form-div\">\n                <h3 className=\"input__header\">Platforms</h3>\n                <select\n                  name=\"platforms\"\n                  id=\"platforms\"\n                  className=\"page__form-select page__form-input__vg\"\n                  multiple={true}\n                  value={platforms}\n                  onChange={(e) => this.addPlatform(e)}\n                  size={5}\n                >\n                  {this.state.isLoaded && this.platformsList()}\n                </select>\n              </div>\n              <div className=\"page__form-div\">\n                <button type=\"submit\">SEARCH</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    genres: state.genres,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getGenres: () => dispatch(getGenres()),\n    uploadVideogame: (payload) => dispatch(addVideogame(payload)),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n"]},"metadata":{},"sourceType":"module"}